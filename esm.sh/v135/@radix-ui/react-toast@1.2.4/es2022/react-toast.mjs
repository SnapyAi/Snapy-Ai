/* esm.sh - esbuild bundle(@radix-ui/react-toast@1.2.4) es2022 production */
"use client";import*as o from"/stable/react@19.0.0/es2022/react.mjs";import*as re from"/v135/react-dom@19.0.0/es2022/react-dom.mjs";import{composeEventHandlers as x}from"/v135/@radix-ui/primitive@1.1.1/es2022/primitive.mjs";import{useComposedRefs as ne}from"/v135/@radix-ui/react-compose-refs@1.1.1/es2022/react-compose-refs.mjs";import{createCollection as Ce}from"/v135/@radix-ui/react-collection@1.1.1/es2022/react-collection.mjs";import{createContextScope as xe}from"/v135/@radix-ui/react-context@1.1.1/es2022/react-context.mjs";import*as U from"/v135/@radix-ui/react-dismissable-layer@1.1.3/es2022/react-dismissable-layer.mjs";import{Portal as he}from"/v135/@radix-ui/react-portal@1.1.3/es2022/react-portal.mjs";import{Presence as be}from"/v135/@radix-ui/react-presence@1.1.2/es2022/react-presence.mjs";import{Primitive as I,dispatchDiscreteCustomEvent as ge}from"/v135/@radix-ui/react-primitive@2.0.1/es2022/react-primitive.mjs";import{useCallbackRef as W}from"/v135/@radix-ui/react-use-callback-ref@1.1.0/es2022/react-use-callback-ref.mjs";import{useControllableState as Se}from"/v135/@radix-ui/react-use-controllable-state@1.1.0/es2022/react-use-controllable-state.mjs";import{useLayoutEffect as De}from"/v135/@radix-ui/react-use-layout-effect@1.1.0/es2022/react-use-layout-effect.mjs";import{VisuallyHidden as se}from"/v135/@radix-ui/react-visually-hidden@1.1.1/es2022/react-visually-hidden.mjs";import{Fragment as ae,jsx as l,jsxs as G}from"/stable/react@19.0.0/es2022/jsx-runtime.js";var J="ToastProvider",[Q,Ie,Ae]=Ce("Toast"),[ie,nt]=xe("Toast",[Ae]),[Fe,X]=ie(J),ce=e=>{let{__scopeToast:r,label:n="Notification",duration:t=5e3,swipeDirection:c="right",swipeThreshold:d=50,children:p}=e,[v,T]=o.useState(null),[i,C]=o.useState(0),E=o.useRef(!1),A=o.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${J}\`. Expected non-empty \`string\`.`),l(Q.Provider,{scope:r,children:l(Fe,{scope:r,label:n,duration:t,swipeDirection:c,swipeThreshold:d,toastCount:i,viewport:v,onViewportChange:T,onToastAdd:o.useCallback(()=>C(g=>g+1),[]),onToastRemove:o.useCallback(()=>C(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:E,isClosePausedRef:A,children:p})})};ce.displayName=J;var ue="ToastViewport",_e=["F8"],j="toast.viewportPause",q="toast.viewportResume",le=o.forwardRef((e,r)=>{let{__scopeToast:n,hotkey:t=_e,label:c="Notifications ({hotkey})",...d}=e,p=X(ue,n),v=Ie(n),T=o.useRef(null),i=o.useRef(null),C=o.useRef(null),E=o.useRef(null),A=ne(r,E,p.onViewportChange),g=t.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=p.toastCount>0;o.useEffect(()=>{let a=R=>{t.length!==0&&t.every(m=>R[m]||R.code===m)&&E.current?.focus()};return document.addEventListener("keydown",a),()=>document.removeEventListener("keydown",a)},[t]),o.useEffect(()=>{let a=T.current,R=E.current;if(S&&a&&R){let f=()=>{if(!p.isClosePausedRef.current){let w=new CustomEvent(j);R.dispatchEvent(w),p.isClosePausedRef.current=!0}},m=()=>{if(p.isClosePausedRef.current){let w=new CustomEvent(q);R.dispatchEvent(w),p.isClosePausedRef.current=!1}},y=w=>{!a.contains(w.relatedTarget)&&m()},P=()=>{a.contains(document.activeElement)||m()};return a.addEventListener("focusin",f),a.addEventListener("focusout",y),a.addEventListener("pointermove",f),a.addEventListener("pointerleave",P),window.addEventListener("blur",f),window.addEventListener("focus",m),()=>{a.removeEventListener("focusin",f),a.removeEventListener("focusout",y),a.removeEventListener("pointermove",f),a.removeEventListener("pointerleave",P),window.removeEventListener("blur",f),window.removeEventListener("focus",m)}}},[S,p.isClosePausedRef]);let u=o.useCallback(({tabbingDirection:a})=>{let f=v().map(m=>{let y=m.ref.current,P=[y,...$e(y)];return a==="forwards"?P:P.reverse()});return(a==="forwards"?f.reverse():f).flat()},[v]);return o.useEffect(()=>{let a=E.current;if(a){let R=f=>{let m=f.altKey||f.ctrlKey||f.metaKey;if(f.key==="Tab"&&!m){let P=document.activeElement,w=f.shiftKey;if(f.target===a&&w){i.current?.focus();return}let _=u({tabbingDirection:w?"backwards":"forwards"}),O=_.findIndex(D=>D===P);B(_.slice(O+1))?f.preventDefault():w?i.current?.focus():C.current?.focus()}};return a.addEventListener("keydown",R),()=>a.removeEventListener("keydown",R)}},[v,u]),G(U.Branch,{ref:T,role:"region","aria-label":c.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:S?void 0:"none"},children:[S&&l(z,{ref:i,onFocusFromOutsideViewport:()=>{let a=u({tabbingDirection:"forwards"});B(a)}}),l(Q.Slot,{scope:n,children:l(I.ol,{tabIndex:-1,...d,ref:A})}),S&&l(z,{ref:C,onFocusFromOutsideViewport:()=>{let a=u({tabbingDirection:"backwards"});B(a)}})]})});le.displayName=ue;var de="ToastFocusProxy",z=o.forwardRef((e,r)=>{let{__scopeToast:n,onFocusFromOutsideViewport:t,...c}=e,d=X(de,n);return l(se,{"aria-hidden":!0,tabIndex:0,...c,ref:r,style:{position:"fixed"},onFocus:p=>{let v=p.relatedTarget;!d.viewport?.contains(v)&&t()}})});z.displayName=de;var Y="Toast",Ne="toast.swipeStart",Le="toast.swipeMove",Me="toast.swipeCancel",Oe="toast.swipeEnd",pe=o.forwardRef((e,r)=>{let{forceMount:n,open:t,defaultOpen:c,onOpenChange:d,...p}=e,[v=!0,T]=Se({prop:t,defaultProp:c,onChange:d});return l(be,{present:n||v,children:l(Ve,{open:v,...p,ref:r,onClose:()=>T(!1),onPause:W(e.onPause),onResume:W(e.onResume),onSwipeStart:x(e.onSwipeStart,i=>{i.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:x(e.onSwipeMove,i=>{let{x:C,y:E}=i.detail.delta;i.currentTarget.setAttribute("data-swipe","move"),i.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${C}px`),i.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${E}px`)}),onSwipeCancel:x(e.onSwipeCancel,i=>{i.currentTarget.setAttribute("data-swipe","cancel"),i.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),i.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),i.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),i.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:x(e.onSwipeEnd,i=>{let{x:C,y:E}=i.detail.delta;i.currentTarget.setAttribute("data-swipe","end"),i.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),i.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),i.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${C}px`),i.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${E}px`),T(!1)})})})});pe.displayName=Y;var[ke,Ke]=ie(Y,{onClose(){}}),Ve=o.forwardRef((e,r)=>{let{__scopeToast:n,type:t="foreground",duration:c,open:d,onClose:p,onEscapeKeyDown:v,onPause:T,onResume:i,onSwipeStart:C,onSwipeMove:E,onSwipeCancel:A,onSwipeEnd:g,...S}=e,u=X(Y,n),[a,R]=o.useState(null),f=ne(r,s=>R(s)),m=o.useRef(null),y=o.useRef(null),P=c||u.duration,w=o.useRef(0),F=o.useRef(P),M=o.useRef(0),{onToastAdd:_,onToastRemove:O}=u,D=W(()=>{a?.contains(document.activeElement)&&u.viewport?.focus(),p()}),k=o.useCallback(s=>{!s||s===1/0||(window.clearTimeout(M.current),w.current=new Date().getTime(),M.current=window.setTimeout(D,s))},[D]);o.useEffect(()=>{let s=u.viewport;if(s){let h=()=>{k(F.current),i?.()},b=()=>{let N=new Date().getTime()-w.current;F.current=F.current-N,window.clearTimeout(M.current),T?.()};return s.addEventListener(j,b),s.addEventListener(q,h),()=>{s.removeEventListener(j,b),s.removeEventListener(q,h)}}},[u.viewport,P,T,i,k]),o.useEffect(()=>{d&&!u.isClosePausedRef.current&&k(P)},[d,P,u.isClosePausedRef,k]),o.useEffect(()=>(_(),()=>O()),[_,O]);let ee=o.useMemo(()=>a?Re(a):null,[a]);return u.viewport?G(ae,{children:[ee&&l(He,{__scopeToast:n,role:"status","aria-live":t==="foreground"?"assertive":"polite","aria-atomic":!0,children:ee}),l(ke,{scope:n,onClose:D,children:re.createPortal(l(Q.ItemSlot,{scope:n,children:l(U.Root,{asChild:!0,onEscapeKeyDown:x(v,()=>{u.isFocusedToastEscapeKeyDownRef.current||D(),u.isFocusedToastEscapeKeyDownRef.current=!1}),children:l(I.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":d?"open":"closed","data-swipe-direction":u.swipeDirection,...S,ref:f,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:x(e.onKeyDown,s=>{s.key==="Escape"&&(v?.(s.nativeEvent),s.nativeEvent.defaultPrevented||(u.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:x(e.onPointerDown,s=>{s.button===0&&(m.current={x:s.clientX,y:s.clientY})}),onPointerMove:x(e.onPointerMove,s=>{if(!m.current)return;let h=s.clientX-m.current.x,b=s.clientY-m.current.y,N=!!y.current,L=["left","right"].includes(u.swipeDirection),K=["left","up"].includes(u.swipeDirection)?Math.min:Math.max,ye=L?K(0,h):0,Pe=L?0:K(0,b),$=s.pointerType==="touch"?10:2,V={x:ye,y:Pe},te={originalEvent:s,delta:V};N?(y.current=V,H(Le,E,te,{discrete:!1})):oe(V,u.swipeDirection,$)?(y.current=V,H(Ne,C,te,{discrete:!1}),s.target.setPointerCapture(s.pointerId)):(Math.abs(h)>$||Math.abs(b)>$)&&(m.current=null)}),onPointerUp:x(e.onPointerUp,s=>{let h=y.current,b=s.target;if(b.hasPointerCapture(s.pointerId)&&b.releasePointerCapture(s.pointerId),y.current=null,m.current=null,h){let N=s.currentTarget,L={originalEvent:s,delta:h};oe(h,u.swipeDirection,u.swipeThreshold)?H(Oe,g,L,{discrete:!0}):H(Me,A,L,{discrete:!0}),N.addEventListener("click",K=>K.preventDefault(),{once:!0})}})})})}),u.viewport)})]}):null}),He=e=>{let{__scopeToast:r,children:n,...t}=e,c=X(Y,r),[d,p]=o.useState(!1),[v,T]=o.useState(!1);return Xe(()=>p(!0)),o.useEffect(()=>{let i=window.setTimeout(()=>T(!0),1e3);return()=>window.clearTimeout(i)},[]),v?null:l(he,{asChild:!0,children:l(se,{...t,children:d&&G(ae,{children:[c.label," ",n]})})})},We="ToastTitle",fe=o.forwardRef((e,r)=>{let{__scopeToast:n,...t}=e;return l(I.div,{...t,ref:r})});fe.displayName=We;var Ue="ToastDescription",me=o.forwardRef((e,r)=>{let{__scopeToast:n,...t}=e;return l(I.div,{...t,ref:r})});me.displayName=Ue;var ve="ToastAction",Te=o.forwardRef((e,r)=>{let{altText:n,...t}=e;return n.trim()?l(Ee,{altText:n,asChild:!0,children:l(Z,{...t,ref:r})}):(console.error(`Invalid prop \`altText\` supplied to \`${ve}\`. Expected non-empty \`string\`.`),null)});Te.displayName=ve;var we="ToastClose",Z=o.forwardRef((e,r)=>{let{__scopeToast:n,...t}=e,c=Ke(we,n);return l(Ee,{asChild:!0,children:l(I.button,{type:"button",...t,ref:r,onClick:x(e.onClick,c.onClose)})})});Z.displayName=we;var Ee=o.forwardRef((e,r)=>{let{__scopeToast:n,altText:t,...c}=e;return l(I.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":t||void 0,...c,ref:r})});function Re(e){let r=[];return Array.from(e.childNodes).forEach(t=>{if(t.nodeType===t.TEXT_NODE&&t.textContent&&r.push(t.textContent),Ye(t)){let c=t.ariaHidden||t.hidden||t.style.display==="none",d=t.dataset.radixToastAnnounceExclude==="";if(!c)if(d){let p=t.dataset.radixToastAnnounceAlt;p&&r.push(p)}else r.push(...Re(t))}}),r}function H(e,r,n,{discrete:t}){let c=n.originalEvent.currentTarget,d=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});r&&c.addEventListener(e,r,{once:!0}),t?ge(c,d):c.dispatchEvent(d)}var oe=(e,r,n=0)=>{let t=Math.abs(e.x),c=Math.abs(e.y),d=t>c;return r==="left"||r==="right"?d&&t>n:!d&&c>n};function Xe(e=()=>{}){let r=W(e);De(()=>{let n=0,t=0;return n=window.requestAnimationFrame(()=>t=window.requestAnimationFrame(r)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(t)}},[r])}function Ye(e){return e.nodeType===e.ELEMENT_NODE}function $e(e){let r=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:t=>{let c=t.tagName==="INPUT"&&t.type==="hidden";return t.disabled||t.hidden||c?NodeFilter.FILTER_SKIP:t.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)r.push(n.currentNode);return r}function B(e){let r=document.activeElement;return e.some(n=>n===r?!0:(n.focus(),document.activeElement!==r))}var st=ce,at=le,it=pe,ct=fe,ut=me,lt=Te,dt=Z;export{lt as Action,dt as Close,ut as Description,st as Provider,it as Root,ct as Title,pe as Toast,Te as ToastAction,Z as ToastClose,me as ToastDescription,ce as ToastProvider,fe as ToastTitle,le as ToastViewport,at as Viewport,nt as createToastScope};
//# sourceMappingURL=react-toast.mjs.map